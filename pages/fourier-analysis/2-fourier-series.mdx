import SignalPlotter from '../../components/SignalPlotter.tsx'
import Harmonics from '../../components/Harmonics.tsx'
import ComplexExpoentialsSum from '../../components/ComplexExponentialsSum.tsx'
import FourierSeries from '../../components/FourierSeries.tsx'
import QuestionAnswer, { Answer } from '../../components/QuestionAnswer.tsx'
import { Callout } from 'nextra-theme-docs'
import ComplexConjugates from '../../components/ComplexConjugates.tsx'
import FrameText from '../../components/FrameText.tsx'

import SingleSignal from '../../components/SingleSignal.tsx'
import PeriodicSignal from '../../components/PeriodicSignal.tsx'

# Fourier-Reihen

## Motivation der Fourier-Reihen

Im Abschnitt [_Periodische Funktionen_](./1-periodic-functions) wurde die Frage gestellt, inwiefern jede periodische Funktion $f(t)$ in der Schreibweise:

$$
f(t) = \sum_{k=-n}^n c_k e^{2 \pi i k f_0 t } \qquad \text{ (dies ist noch keine Fourier-Reihe)}
$$

ausgedr√ºckt werden kann. Diese Frage soll in diesem Abschnitt beantwortet werden. Zudem soll ein Verfahren ermittelt werden, mit welchem man die Koeffizienten $c_k$ bestimmen kann, wenn eine bestimmte periodische Funktion $f(t)$ bekannt ist.

Warum sollte man jedoch √ºberhaupt versuchen eine bekannte periodische Funktion $f(t)$ mithilfe einer Summe der obigen Form darzustellen?

### Rechteckssignal

Man kann zum Beispiel das Signal, welches der Funktion $f(t) = \begin{cases} 1 \text{ wenn } \lfloor t \rfloor \text{ gerade} \\ -1 \text{ wenn } \lfloor t \rfloor \text{ ungerade} \end{cases}$ entspricht, betrachten:

<Callout>
  $\lfloor x \rfloor$ bedeutet, dass $x$ abgerundet wird. Also z.B. $\lfloor 0.8
  \rfloor = 0$ oder $\lfloor 5.99 \rfloor = 5$
</Callout>

<SignalPlotter f={(x) => 2 * (1 - Math.abs(Math.floor(x) % 2) - 0.5)} />

<Callout type="info" emoji="üìö">
  Nachlesen zur Rechtecksschwingung: [Wikipedia:
  Rechtecksschwingung](https://de.wikipedia.org/wiki/Rechteckschwingung)
</Callout>

Dieses Signal ist beispielsweise relevant in der Informations√ºbertragung (Kodierung von $1$ und $0$ mit verschiedenen Spannungen).

Da es jedoch nicht m√∂glich einen Spannungsanstieg innerhalb von $0s$ hervorzurufen, ist es relevant, eine andere Ann√§herung f√ºr diese Funktion zu finden, was z.B. durch die **Fourier-Reihe** erreicht werden kann.
Bis jetzt ist jedoch noch nicht klar, ob es √ºberhaupt m√∂glich ist eine solche Funktion mit einer Summe von komplexen Exponentialfunktionen zu modellieren.

---

Im Folgenden wird die **Grundfrequenz** mit einer Periodendauer $f_0 = \frac{1}{T}$ ausgedr√ºckt, um den Funktionsnamen $f(t)$ und das $f$ der Frequenz nicht zu verwechseln:

$$
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i k}{T} t }
$$

$T$ beschreibt dabei die Zeit, welche f√ºr eine Periode ben√∂tigt wird: $f(t) = f(t+T)$

## Komplexe Funktionen

Um sich der obigen Frage anzun√§hern, lassen sich die Koeffizienten $c_k$ nochmal etwas genauer betrachten.

### Darstellung von Funktionswerten

Um mehr Intuition √ºber die Modellierung eines periodischen Vorgangs durch die Summe

$$
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i k}{T} t }
$$

zu bekommen, lassen sich die Funktionswerte auf einer [komplexen Ebene](../appendix/complex-numbers/1-complex-plane) betrachten.

<QuestionAnswer>
  <>
    Was w√ºrde f√ºr $f(t)$ gelten, wenn nur $c_1 = 0.5$ gesetzt wird und die
    Eigenschaft der **konjugierten komplexen Koeffizienten** beachtet wird ?
  </>
  <Answer correct={true}>$f(t) = 0.5  e^{\frac{2 \pi i }{T} t } + 0.5 e^{\frac{-2 \pi i}{T} t }$</Answer>
  <Answer>$f(t) = 0.5 e^{\frac{2 \pi i }{T} t }$</Answer>
  <Answer>$f(t) =  e^{\frac{2 \pi i }{T} t }$</Answer>
</QuestionAnswer>

Wenn man die Ergebnisse von $f(t)$ auf der komplexen Ebene betrachtet, wird deutlich, dass sich die Ergebnisse lediglich auf der _Realteil-Achse_ befinden:

<ComplexExpoentialsSum
  ak={[
    [0.5, 0, 1],
    [0.5, 0, -1],
  ]}
  xExtent={[-2.75, 2.75]}
  yExtent={[-1.75, 1.75]}
/>

Warum sich die komplexen Exponentialfunktionen als Rotationen verstehen lassen, sollte aus dem Abschnitt [_komplexe Exponentialfunktion_](../appendix/complex-numbers/2-complex-exponentials) bekannt sein.
Zudem sollte die Addition als Vektoraddition bekannt sein. Die Vektoren der einzelnen komplexen Zahlen bzw. komplexen Exponentialfunktionen, werden im Folgenden auch als **Zeiger** bezeichnet.

Die obige Darstellungsweise ist wom√∂glich etwas ungewohnt, da die Funktionswerte alleine dargestellt werden und nicht etwa in Abh√§ngigkeit der Funktionseingaben ($t$). Aus diesem Grund bewegen sich **reelle Funktionswerten** lediglich in einer Dimension.

Wenn man die Werte der **Realteil** Achse jedoch gegen die Zeit auftragen w√ºrde, w√ºrde man eine harmonische Schwingung erkennen. Es handelt sich um $f(t) = \sin (\frac{2 \pi}{T} t)$, da f√ºr die Koeffizienten√ºbersetzung $c_k = \frac{1}{2}(a_k-b_k i)$ gilt und somit mit $c_1 = 0.5$

$$
1 = a_1-b_1 i \Leftrightarrow a_1 = 1
$$

Mit $a_1 = 1$ und

$$
f(t) = \frac{a_0}{2} + \sum_{k=1}^n a_k \sin \left(\frac{2 \pi k}{T} t\right)+ b_k \cos \left(\frac{2 \pi k}{T} t \right)
$$

folgt also $f(t) = \sin(\frac{2 \pi}{T} t)$.

### Begr√ºndung reeller Funktionswerte

Durch die Eigenschaft der **komplexen konjugierten Koeffizienten** wird garantiert, dass es nur **reelle Funktionswerte** gibt. Dies wurde bereits im Abschnitt [_Periodische Funktionen_](./1-periodic-functions) durch das Umformen der Summe

$$
\begin{equation}
f(t) = \frac{a_0}{2} + \sum_{k=1}^n a_k \sin \left(\frac{2 \pi k}{T} t\right)+ b_k \cos \left(\frac{2 \pi k}{T} t \right)
\end{equation}
$$

welche ausschlie√ülich **reele Funktionswerte** erzeugt, in die Summe

$$
\begin{equation}
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i k}{T} t }
\end{equation}
$$

mit der Koeffizienten√ºbersetzung

$$
c_k =
\begin{cases}
\frac{1}{2}(a_k - b_k i) &  \text{ wenn } k > 0 \\
\frac{a_0}{2} & \text{ wenn } k = 0 \\
\overline{c}_{-k} & \text{ wenn } k < 0\\
\end{cases}
$$

gezeigt. Es wurde gezeigt, dass die beiden Summenausdr√ºcke ($(1)$ und $(2)$) √§quivalent sind, insofern die Koeffizienten richtig √ºbersetzt werden.
Somit muss immer wenn die Eigenschaft gilt, dass $c_k = \overline{c}_{-k}$ f√ºr $k <0$ folgen, dass es ausschlie√ülich **reelle Funktionswerte** gibt, da sich $(2)$ in
$(1)$ √ºbersetzen lie√üe.

Berechtigterweise kann man sich die Frage stellen, was passiert, wenn die Bedingung: $c_k = \overline{c}_{-k}$ f√ºr $k <0$, nicht erf√ºllt ist.
Um folgende Formulierungen und Folgerungen allgemeiner gestalten zu k√∂nnen und somit auch komplexe Funktionswerte zuzulassen, wird der Ausdruck $(2)$ ohne die Bedingung betrachet.
Somit befinden sich die Ausgaben nicht unbedigt ausschlie√ülich auf der _Realteil-Achse_.

Die Eigenschaft der **konjugierten komplexen Zahlen** l√§sst sich auch visuell darstellen und verstehen. In der folgenden Darstellung l√§sst sich die Summe der Terme $c_{-1} \cdot e^{- \frac{2 \pi }{T} t}$ und $c_{1} \cdot e^{- \frac{2 \pi }{T} t}$ mit der Eigenschaft von **konjugierten komplexen Zahlen** betrachten.

<ComplexConjugates />

Dadurch, dass die Koeffizienten $c_k$ und $c_{-k}$ in der obigen Summe $(2)$ jeweils **konjugierte komplexe Zahlen sind**, sind die beiden Zeiger, welche sich mit der gleichen Frequenz ($\frac{k}{T}$) jedoch durch das negative Vorzeichen in unterschiedliche Richtungen drehen, **achsensymmetrisch** zur _Realteil-Achse_. Dies wird dadurch verursacht, dass die Startposition der Zeiger durch die **konjugierten komplexen Zahlen** $c_k$ und $c_{-k}$ festgelegt werden (**konjugierte komplexe Zahlen** sind liegen immer achsensymmetrisch zur _Realteil-Achse_).

Dadurch kommt es also zustande, dass nur **reelle Zahlen** entstehen, wenn die Eigenschaft $c_{-k} = \overline{c_k}$ gegeben ist.

## Ermittlung der Koeffizienten

Es ist zwar noch nicht klar, ob es m√∂glich ist jede periodische Funktion mit der obigen Summe zu modellieren.
Im Folgenden wird jedoch betrachtet, was f√ºr die Koeffizienten $c_k$ folgen w√ºrde, wenn es so w√§re.
Wenn also gelten w√ºrde:

$$
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i k}{T} t }
$$

Wie m√ºssten dann die Koeffizienten $c_k$ in Abh√§ngigkeit von $f(t)$ gew√§hlt werden?

Dabei wird jedoch auch zugelassen, dass $f(t) \in \mathbb{C}$ und somit die Eigenschaft $c_{-k} = \overline{c_k}$ nicht gegeben ist.
Man bestimme also die Koeffizienten $c_k$ mit $k<0$ unabh√§ngig von $c_k$ mit $k>0$.

Das Einzige, was bekannt ist, ist die Funktion $f(t)$ (in welcher Form das genau der Fall ist wird sp√§ter relevant), und die Periodendauer der Funktion $f$. Also $T$ mit $f(t) = f(t+T)$ f√ºr alle $t \in \mathbb{R}$.

### √úberlegung mithilfe von durchschnittlichen Funktionswerten

Zun√§chst l√§sst sich zum Beispiel √ºberlegen, wie der _einfachste_ Koeffizient $c_0$ gew√§hlt werden m√ºsste.
Dieser entspricht wie zuvor herausgestellt, einer Verschiebung.
Das liegt daran, dass $c_0$ mit $e^{\frac{2 \pi i \cdot 0}{T} t} = 1$ multipliziert wird. Wenn man also die Ergebnisse der Summe auf der komplexen Ebene betrachtet, entspricht der $c_0$ Koeffizient einer konstanten Verschiebung vom Ursprung.

Im Folgenden ist das Ergebnis der Summe $(1)$ mit $c_0 = 2+i$, $c_1 = 2$ und $c_2 = i$ dargestellt. Der Rest der Koeffizienten ist $0$.

<ComplexExpoentialsSum
  ak={[
    [2, 1, 0],
    [2, 0, 1],
    [0, 1, 2],
  ]}
  showPath={true}
/>

<QuestionAnswer>
  <>
    Wo liegt der durchschnittliche Wert der obigen Funktion, wenn man eine
    Periode der gesamten Schwingung betrachet?
  </>
  <Answer>Bei $0$</Answer>
  <Answer>Bei $1+i$</Answer>
  <Answer correct={true}>Bei $2+i$</Answer>
  <Answer>Man kann keine Aussage dar√ºber treffen</Answer>
</QuestionAnswer>

Eine Herangehensweise zu obiger Frage k√∂nnte √ºber die durchschnittlichen Werte der einzelnen Schwingungsbeitr√§ge sein.
Da alle Schwingungsbeitr√§ge per Definition der Summe, eine Frequenz haben, welche einem ganzzahliges Vielfachen der **Grundfrequenz** (Frequenz der gesamten Schwingung) entspricht, muss jeder **rotierende Zeiger** eine ganzzahlige Anzahl an Rotationen vollf√ºhren.

Wenn man nun einen Zeiger separat betrachtet und dieser eine ganzzahlige Anzahl an Malen um den Urpsrung rotiert, dann muss dieser Zeiger logischerweise einen durchschnittlichen Wert von $0$ haben.

Da dies f√ºr jeden Zeiger gilt, welcher eine ganzzahlige Anzahl an Malen in der Zeit einer Periode rotiert, h√§ngt der durchschnittliche Funktionswert nur von jenen Zeigern ab, welche nicht rotieren.
Da nur der Zeiger, welcher aus dem Term $c_0 \cdot e^{0} = c_0$ resultiert, nicht rotiert, ist somit der durchschnittliche Funktionswert nur von $c_0$ abh√§ngig. Der durchschnittliche Funktionswert entspricht also dadurch, dass $c_0$ konstant ist, $c_0$.

**Was bringt das nun?** Wenn der durchschnittliche Funktionswert in einer Periode genau $c_0$ entspricht, dann lie√üe sich $c_0$ bestimmen, wenn $f(t)$ un die Periodendauer $T$ bekannt sind. Man berechne also mithilfe den durchschnittlichen Funktionswert einer bekannten Funktion $f(t)$ innerhalb einer Zeitspanne von $T$.

Somit lie√üe sich schonmal der Koeffizient $c_0$ bestimmen. Man ist also dem Ziel, alle Koeffizienten der Summendarstellung zu bestimmen, um $f(t)$ anders auszudr√ºcken, etwas n√§her.

### Bestimmung von durchschnittlichen Funktionswerten

Um den durchschnittlichen Funktionswert einer Funktion √ºber eine Periode zu bestimmen folgt:

$$
c_0 = \frac{1}{T} \int_0^{T} f(t) dt
$$

<Callout>
  F√ºr den durchschnittlichen Funktionswert $\overline{y}$ einer Funktion $f(x)$
  in einem Intervall $[a,b]$ gilt: 
  $$
  \begin{equation*}
  \overline{y} = \frac{1}{b - a} \int_a^{b} f(x) dx 
  \end{equation*}
  $$
  Das Integral kann hierbei als eine Art Summierung aller Funktionswerte verstanden werden.
  Wenn man den Durchschnitt (bzw. arithmetischen Mittelwert) $\overline{a}$ einer diskreten (d.h. abz√§hlbaren Gr√∂√üe) berechnet, gilt der Zusammenhang:
  $$
  \overline{a} = \frac{1}{n} \sum_{k=1}^n a_k
  $$
  wobei $n$ der Anzahl an Werten entspricht.
  Wenn es sich nun um Funktionswerte handelt, welche nicht diskret, sondern kontinuierlich vorliegen, wird die diskrete Summe zu einem kontinuierlichen Integral.
</Callout>

### Verallgemeinerung des Verfahrens auf alle Koeffizienten

Die obige [Idee](#√ºberlegung-mithilfe-von-durchschnittlichen-funktionswerten), den durchschnittlichen Funktionswert auszunutzen, um den Wert eines Koeffizienten zu bestimmen, welcher zur konstanten Verschiebung geh√∂rt, l√§sst sich tats√§chlich f√ºr alle Koeffizienten anwenden.

Man k√∂nnte versuchen jeweils einen spezifischen rotierenden Zeiger, zu einem Zeiger zu ver√§ndern, welcher f√ºr eine konstante Verschiebung sorgt. Dabei m√ºssen jedoch alle anderen Zeiger eine ganzzahlige Anzahl an Malen um den Urpsrung rotieren.

Um einen spezifischen Koeffizienten $c_m$ herauszufinden, probiert man also die Funktion $f(t)$ so zu manipulieren, dass genau der Zeiger $m$ _stehen bleibt_
und somit _alleinig_ den durchschnittlichen Funktionswert der manipulierten Funktion beeinflusst. Folgend k√∂nnte man $c_m$ analog zu $c_0$ ermitteln.

Hier nochmal der Summenausdruck:

$$
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i k}{T} t }
$$

<QuestionAnswer>
  <>Wie k√∂nnte man die oben beschriebene *Manipulation* f√ºr $c_m$ erreichen?</>
  <Answer>Multiplikation mit $e^{\frac{2 \pi i m}{T}t}$</Answer>
  <Answer correct={true}>Multiplikation mit $e^{-\frac{2 \pi i m}{T}t}$</Answer>
  <Answer>Multiplikation mit $c_k$</Answer>
  <Answer>Multiplikation mit $-c_k$</Answer>
  <Answer>Es ist nicht m√∂glich</Answer>
</QuestionAnswer>

Es besteht weiterhin die Annahme, dass $f(t)$ mit der Summendarstellung von komplexen Exponentialfunktionen angen√§hert werden kann.
Wenn die Funktion $f(t)$ mit $e^{-\frac{2 \pi i m}{T}t}$ multipliziert w√ºrde f√ºr die Summendarstellung von $f(t)$ folgen, dass alle Zeiger, au√üer der Zeiger mit dem Term $e^{\frac{2 \pi i m}{T}t}$ rotieren, da gilt:

$$
c_m \cdot e^{\frac{2 \pi i m}{T}t} \cdot e^{-\frac{2 \pi i m}{T}t} = c_m
$$

Die Multiplikation mit $e^{-\frac{2 \pi i m}{T}t}$ kann man als Rotation der gesamten Funktion $f(t)$ sehen, welche die Rotation $e^{\frac{2 \pi i m}{T}t}$ _rausk√ºrzt_. Somit erscheint der Koeffizient $c_m$ wie eine konstante Verschiebung.

Da es nur genau diesen einen Term mit $k=m$ gibt, wird auch nur genau dieser Zeiger $m$ die konstante Verschiebung von Urpsrung beeinflussen.

<FrameText
  display={
    <ComplexExpoentialsSum
      ak={[
        [2, 1, 0],
        [2, 0, 1],
        [0, 1, 2],
      ]}
      width={400}
      height={300}
      xExtent={[-6, 6]}
      yExtent={[-4, 4]}
    />
  }
  text={
    'Links sieht man eine m√∂gliche Funktion. Der Verlauf dieser Funktion auf der komplexen Ebene ist also bekannt. Wenn es nun so w√§re, dass man die Funktion mit einer Summe aus komplexen Exponentialfunktionen modellieren kann, dann lie√üe sich die Schwingung mit einer Aneinanderkettung von rotierenden Zeigern visualisieren (wie links). Selbstverst√§ndlich ist jedoch unbekannt, welche Koeffizienten f√ºr die verschiedenen Schwingungsbeitr√§ge gew√§hlt werden m√ºssen. In der Darstellung wird die Funktion aus Demonstrationszwecken bereits mit Zeigern modelliert, um das oben erkl√§rte Verfahren zu zeigen.'
  }
/>

<FrameText
  display={
    <ComplexExpoentialsSum
      ak={[
        [2, 1, -1],
        [2, 0, 0],
        [0, 1, 1],
      ]}
      width={400}
      height={300}
      xExtent={[-6, 6]}
      yExtent={[-4, 4]}
    />
  }
  text={
    'Wenn man nun die gesamte Funktion durch den ersten Exponentialfunktionsterm teil (bzw. Multiplikation mit negativen Exponenten), dann √§ndert sich offensichtlich der Verlauf der Funktion. In der Zeigermodellierung w√ºrden nun alle Zeiger au√üer der Erste rotieren. Man hat die Rotation des ersten Zeigers rausgek√ºrzt und die Rotation aller anderen Zeiger um das negative der Rotation des ersten Zeigers ver√§ndert. Dies ist z.B. beim "nullten" Zeiger zu sehen. Man k√∂nnte sich also nun den durchschnittlichen Funktionswert √ºber eine Periode anschauen, um die konstante Verschiebung von Ursprung berechnen. Diese w√ºrde dann dem Koeffizienten des ersten Terms entsprechen.'
  }
/>

Verwirrend erscheint wom√∂glich, dass man die Funktion $f(t)$ die ganze Zeit
bereits im Zeigermodell betrachet, obwohl man die Koeffizienten der
Summendarstellung und somit die Zeiger noch gar nicht kennt. Die obigen
Darstellungen sollen jedoch nur illustrieren, wie eine Funktion $f(t)$ in der Summendarstellung auss√§he.

Wenn nur die Funktion $f(t)$ bekannt ist, kennt man nur den resultierenden Funktionswert zu einem gegebenen Zeitpunkt. Dieser entspricht der Spitze des letzten Zeigers in obiger Darstellung.
Wenn man jedoch diesen Punkt f√ºr ein Zeitintervall $[t,t+T]$ kennt und wei√ü, dass die Funktion $f(t)$ mit dem Summenausdruck modelliert werden kann, dann wei√ü man, dass dieser Punkt das Ergebnis einer Addition mehrerer rotierender Zeiger ist.
Manche Koeffizienten k√∂nnten selbstverst√§ndlich auch $0$ sein, was dazu zu erkennen w√§re, dass $0$ der durchschnittliche Funktionswert von $f(t) \cdot e^{\frac{-2 \pi i m}{T} t}$ ist.

Mit der Idee von durchschnittlichen Funktionswerten √ºber die Periodendauer und einer geschickten _Manipulation_ der Funktion lassen sich somit alle Koeffizienten $c_m$ bestimmen:

$$
c_m = \frac{1}{T}\int_0^{T} f(t) e^{\frac{-2 \pi i m}{T} t} dt
$$

### Algebraischer Ansatz

Wenn der [obige Ansatz](#%C3%BCberlegung-mithilfe-von-durchschnittlichen-funktionswerten) nicht √ºberzeugend genug war, l√§sst sich der Zusammenhang auch algebraisch herleiten.
Man will also den Wert eines bestimmten Koeffizienten bestimmen.

F√ºr die Ermittlung einer gesuchten Variable, lernt man, dass man diese Variable auf einer Seite der Gleichung isolieren soll.
Wenn also beispielsweise ein Koeffizient $c_m$ ($-n\leq m\leq n$) gesucht ist, folgt mit algebraischen Umformungen:

$$
\begin{equation*}
\begin{split}
\sum_{k=-n}^n c_k e^{2 \pi i k\frac{1}{T} t } &= f(t) \\
c_m e^{2 \pi i m\frac{1}{T}t}+ \sum_{\substack{k=-n \\ k\neq m}}^n c_k e^{2 \pi i k\frac{1}{T}t} &= f(t) \qquad | -\sum_{\substack{k=-n \\ k\neq m}}^n c_k e^{2 \pi i k\frac{1}{T}t}\\
c_m e^{2 \pi i m\frac{1}{T}t} & = f(t) - \sum_{\substack{k=-n \\ k\neq m}}^n c_k e^{2 \pi i k\frac{1}{T}t} \qquad | \cdot e^{-2 \pi i m\frac{1}{T}t}\\
c_m & = f(t) \cdot e^{-2 \pi i m\frac{1}{T}t} - \sum_{\substack{k=-n \\ k\neq m}}^n c_k e^{2 \pi i k\frac{1}{T}t} \cdot e^{-2 \pi i m\frac{1}{T}t}\\
c_m & = f(t) \cdot e^{-2 \pi i m\frac{1}{T}t} - \sum_{\substack{k=-n \\ k\neq m}}^n c_k e^{2 \pi i (k-m)\frac{1}{T}t}\\
\end{split}
\end{equation*}
$$

Nun lassen sich beide Seiten nach $t$ √ºber das Intervall $[0,T]$ integrieren:

$$
\begin{equation*}
\begin{split}
\int_{0}^{T} c_m dt & = \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt - \sum_{\substack{k=-n \\ k\neq m}}^n \int_{0}^{T} c_k e^{2 \pi i (k-m)\frac{1}{T}t} dt\\
\left[c_m t\right]^T_0 &= \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt - \sum_{\substack{k=-n \\ k\neq m}}^n c_k \left[ \frac{1}{2 \pi i (k-m)\frac{1}{T}} e^{2 \pi i (k-m)\frac{1}{T}t}\right]^T_0\\
c_m \cdot T &= \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt - \sum_{\substack{k=-n \\ k\neq m}}^n \frac{c_k}{2 \pi i (k-m)\frac{1}{T}} \left(  e^{2 \pi i (k-m)} - 1\right) \qquad | \quad * \\
c_m \cdot T &= \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt - \sum_{\substack{k=-n \\ k\neq m}}^n \frac{c_k}{2 \pi i (k-m)\frac{1}{T}} \left( 1 - 1\right)\\
c_m \cdot T &= \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt \qquad | : T\\
c_m &= \frac{1}{T} \int_{0}^{T} f(t) e^{-2 \pi i m\frac{1}{T}t} dt\
\end{split}
\end{equation*}
$$

$*$ hierbei ist relevant, dass $e^{2 \pi i a} = 1$ mit $a \in \mathbb{Z}$ (a ist eine ganze Zahl). Dies wird in [_Komplexe Exponentialfunktion_](../appendix/complex-numbers/2-complex-exponentials) deutlich.
Dadurch, dass es sich bei $k-m$ um eine ganze Zahl handelt, folgt also $e^{2 \pi i (k-m)} = 1$

Es sind einige Argumentationspunkte aus [der Verallgemeinerung von durchschnittlichen Funktionswerten](#verallgemeinerung-des-verfahrens-auf-alle-koeffizienten) in der algebraischen Herleitung wiederzuerkennen.
Zum Beispiel, dass das Integral √ºber eine Periode f√ºr alle Terme mit $k\neq m$, $0$ ergibt. Dies wurde zuvor mit der Idee begr√ºndet, dass jeder Zeiger mit $k\neq m$ eine ganzzahlige Anzahl an Rotation um den Urpsrung vollf√ºhrt.

Es ist jedoch sch√∂n zu sehen, wie die mehr oder weniger geometrische Intuition und algebraische Umformungen zur gleichen L√∂sung f√ºhren:

$$
\begin{equation}
c_m = \frac{1}{T}\int_0^{T} f(t) e^{\frac{-2 \pi i m}{T} t} dt
\end{equation}
$$

Wenn $f(t)$ bekannt ist lie√üen sich also die Koeffizienten $c_m$ bestimmen.

## Von Summe zu Reihe

Es wurde herausgefunden, wie man die Koeffizienten $c_k$ bestimmen k√∂nnte, insofern:

$$
f(t) = \sum_{k=-n}^n c_k e^{\frac{2 \pi i}{T} k t }
$$

gilt. Ein Parameter, welcher jedoch bis jetzt unbeachtet geblieben ist, ist die Anzahl an Summanden $n$.

Zudem ist weiterhin die Frage offen, inwiefern jede beliebige periodische Funktion $f(t)$ mit dieser Summe dargestellt werden kann.
Um diese Frage zu beantworten, muss man zun√§chst $n$ betrachten. Wenn beispielsweise $n=1$ und es sich somit lediglich um zwei Summanden handelt, kann offensichtlicherweise nicht jede periodische Funktion angen√§hert werden.

### Rechtecksschwingung

Wenn man z.B. die bereits gezeigte Rechteckschwingung

$$
f(t) = \begin{cases} 1 \text{ wenn } \lfloor t \rfloor \text{ gerade} \\ -1 \text{ wenn } \lfloor t \rfloor \text{ ungerade} \end{cases}
$$

(mit $T=2$) in Summenschreibweise ausdr√ºcken will, k√∂nnte man versuchen sich die Koeffizienten $c_m$ mit dem ermittelten Verfahren herzuleiten:

$$
c_m = \frac{1}{2} \int_0^2 f(t) e^{\frac{-2 \pi i m}{2} t} dt
$$

Dadurch, dass $f(t)$ abschnittsweise definiert ist, l√§sst sich das Integral in zwei Teile aufspalten:

$$
\begin{equation*}
\begin{split}
c_m &= \frac{1}{2} \left(\int_0^1 1 \cdot e^{-\pi i m t} dt + \int_1^2 -1 \cdot e^{-\pi i m t} dt \right) \\
c_m &= \frac{1}{2}  \left(\left[-\frac{1}{ \pi i m } e^{- \pi i m t}\right]_0^1 - \left[-\frac{1}{ \pi i m } e^{- \pi i m t}\right]_1^2 \right)\\
c_m &= -\frac{1}{2 \pi m i}  \left(\left[e^{- \pi i m t}\right]_0^1 - \left[e^{- \pi i m t}\right]_1^2 \right)\\
c_m & = -\frac{1}{2 \pi m i} \left((e^{-\pi i m} - 1) - (e^{- 2 \pi i m } - e^{-  \pi i m })\right) \qquad | \text{ mit } e^{2 \pi i a} = 1 \text{ f√ºr } a \in \mathbb{Z}\\
c_m & = -\frac{1}{\pi m i} \left((-1)^{m} - 1\right) \qquad | \text{ mit } e^{- \pi i} = -1 \\
\end{split}
\end{equation*}
$$

Nun kann eine Fallunterscheidung getroffen werden, da der Term $\left((-1)^{m} - 1\right)$ nur zwei verschiedene Werte in Abh√§ngigkeit von $m$ annimmt:

$$
c_m =
\begin{cases}
\frac{2}{\pi i m} & \text{wenn } m \text{ ungerade}\\
0 & \text{wenn } m \text{ gerade}\\
\end{cases}
$$

Im Folgenden l√§sst sich $n$ variieren:

<FourierSeries
  ithC={(x) => [0, x % 2 ? -2 / (Math.PI * x) : 0]}
  f={(x) => 2 * (1 - Math.abs(Math.floor(x) % 2) - 0.5)}
  omega={Math.PI}
/>

Es l√§sst sich erkennen, dass die Summe zwar ungef√§hr auf der gew√ºnschten Funktion $f(t)$ liegt, jedoch gibt es eine bestimmte Abweichung.

<QuestionAnswer>
  <>Was passiert vermutlich wenn $n \to \infty$?</>
  <Answer correct={true}>Die Abweichung geht gegen $0$</Answer>
  <Answer> Es gibt keine Ver√§nderung der Abweichung</Answer>
  <Answer> Die Abweichung geht gegen $\infty$</Answer>
</QuestionAnswer>

Dies ist kein mathematischer Beweis, jedoch l√§sst sich intuitiv sagen, dass eine gr√∂√üere Anzahl an Termen, f√ºr eine geringere Abweichung und eine bessere Ann√§herung sorgt.

### Unendliche Anzahl von Termen

Durch [Jospeh Fourier's](https://de.wikipedia.org/wiki/Joseph_Fourier) √úberlegungen, wurde sp√§ter deutlich, dass jede periodische Funktion $f(t)$ mit der Periodendauer $T$, welche bestimmte Eigenschaften erf√ºllt, mit

$$
f(t) = \sum_{k=-\infty}^{\infty} c_k e^{\frac{2 \pi i}{T} k t }
$$

beschrieben werden kann.
Dabei handelt es sich um eine **unendliche** Summe und somit eine **Reihe**, die **Fourier-Reihe**.
Die Frage warum _unendlich_ viele Terme ben√∂tigt werden l√§sst sich intuitiv damit beantworten, dass es sich in manchen F√§llen um nicht **stetige** Funktionen handelt, welche mit der Summendarstellung repr√§sentiert werden sollen.
Es ist unm√∂glich mit einer endlichen Summe an **stetigen** Funktionen ($\sin$ und $\cos$) darzustellen.
Aus diesem Grund werden, wie im obigen Beispiel illustriert, unendlich viele **Koeffizienten** auch **Fourier-Koeffizienten** $c_k$ ben√∂tigt.

<Callout type="info" emoji="üìö">
  Die *Eigenschaften* welche eine Funktion $f(t)$ erf√ºllen muss, werden unter
  [Wikipedia:
  Dirichlet-Bedingung](https://en.wikipedia.org/wiki/Dirichlet%E2%80%93Jordan_test)
  pr√§zisiert. Es ist jedoch so, dass sich *"almost any well behaved periodic
  function"* mit der **Fourier-Reihe** darstellen l√§sst. Dies ist m√∂glicherweise
  etwas unbefriedigend, da diese Antwort auf die Ausgangsfrage etwas schwammig
  ist. Die *Bedingungen* beinhalten jedoch z.B., dass das Integral der
  Funktion nicht unendlich gro√ü sein darf, da sonst die
  **Fourier-Koeffizienten** nicht existieren w√ºrden.
  Spezifischer:
  $$
  \int_{0}^{T} |f(t)| dt < \infty
  $$
</Callout>

In der Realit√§t lassen sich h√§ufig nur eine endliche Anzahl an Termen summieren. Aus diesem Grund stellt man sich berechtigterweise die Frage, wie viele Terme man braucht um eine zuverl√§ssige Ann√§herung zu erhalten.
Weitere Beispiel f√ºr Darstellungen von Signalen mit der **Fourier-Reihe** sind unter [_Beispiele f√ºr Fourier-Reihen_](../appendix/other/fourier-series-examples) zu finden.

## Schlussfolgerung

Nach dem Lesen dieses Abschnittes sollte klar sein, dass eine periodische Funktion $f(t)$ mit der **Fourier-Reihe**:

$$
f(t) = \sum_{k=-\infty}^{\infty} c_k e^{\frac{2 \pi i}{T} k t }
$$

angen√§hert bzw. beschrieben werden kann. F√ºr die **Fourier-Koeffizienten** $c_k$ folgt dabei:

$$
c_k = \frac{1}{T}\int_0^{T} f(t) e^{\frac{-2 \pi i k}{T} t} dt
$$

Man kann sich ausgibig Gedanken √ºber die **Konvergenz** der **Fourier-Reihe** Gedanken machen. In diesem Abschnitt sollte jedoch lediglich gekl√§rt werden, woher die **Fourier-Reihe** kommt, und wie man sie m√∂glicherweise anwenden kann.

## Ausblick: Fourier-Transformation

Mit der **Fourier-Transformation** lassen sich die obigen Ideen auch auf nicht periodische Ph√§nomene ausweiten.

Es gibt zwar viele Ph√§nomene, welche periodisches Verhalten aufweisen, jedoch gibt es auch solche, welche zun√§chst periodisch erscheinen, jedoch nach einer Zeit aufh√∂ren.

Also eine Funktion $f(t)$, welche f√ºr $-\infty<t< \infty$ definiert ist.
Das k√∂nnte zum Beispiel ein kurzeitiger Ton sein.

<SingleSignal />
<PeriodicSignal />

<QuestionAnswer>
  <>
    Was k√∂nnte man tun, wenn das Intervall $[a,b]$ unbekannt ist, man jedoch
    Werkzeuge f√ºr periodische Funktionen anwenden will?
  </>
  <Answer> Eine sehr kleine Periodendauer w√§hlen. </Answer>
  <Answer correct={true}> Eine sehr gro√üe Periodendauer w√§hlen. </Answer>
  <Answer> Die Periodendauer $T=1$ w√§hlen. </Answer>
</QuestionAnswer>

Es liegt zugrunde, dass man die **Periodendauer** gegen unendlich gehen l√§sst ($T \to \infty$).
Somit w√ºrde sich das _nicht-periodische_ Ph√§nome) in _unendlicher_ Zeit nur ein einmal wiederholen.
Eine Idee w√§re also, die **Fourier-Reihe** zu verallgemeinern, indem man einfach die Periodendauer unendlich gro√ü macht und dadurch auch auf nicht-periodeische Ph√§nomene anwenden kann.
Dies ist jedoch nicht ganz so einfach m√∂glich. Eine Ausf√ºhrung befindet sich im n√§chsten Abschnitt.
